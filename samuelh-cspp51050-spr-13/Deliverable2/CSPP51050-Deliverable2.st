Object subclass: #Broker	instanceVariableNames: 'receiver'	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-Deliverable2'!!Broker methodsFor: 'as yet unclassified' stamp: 'sjh 5/24/2013 09:48'!demarshall: aCallMessage! !!Broker methodsFor: 'as yet unclassified' stamp: 'sjh 5/24/2013 09:48'!marshall: aCallMessage! !!Broker methodsFor: 'as yet unclassified' stamp: 'sjh 5/24/2013 10:38'!receive: aString		^ self send: [ self demarshall: aString ].! !!Broker methodsFor: 'as yet unclassified' stamp: 'sjh 5/24/2013 10:38'!send: anObject	^ self receiver demarshall: anObject! !Object subclass: #CallMessage	instanceVariableNames: 'messageName params target'	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-Deliverable2'!!CallMessage methodsFor: 'as yet unclassified' stamp: 'sjh 5/24/2013 09:55'!initializeWithMessageName: aMessageName params:someParams target: aTarget	messageName := aMessageName.	params := someParams.	target := aTarget.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!CallMessage class	instanceVariableNames: ''!!CallMessage class methodsFor: 'as yet unclassified' stamp: 'sjh 5/24/2013 09:55'!messageName: aMessageName params:someParams target: aTarget	^ self basicNew initializeWithMessageName: aMessageName params:someParams target: aTarget! !Object subclass: #Client	instanceVariableNames: 'proxy'	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-Deliverable2'!Object subclass: #Proxy	instanceVariableNames: 'delegate'	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-Deliverable2'!!Proxy methodsFor: 'as yet unclassified' stamp: 'sjh 5/24/2013 10:26'!demarshall: aCallMessage	^ self subclassResponsibility! !!Proxy methodsFor: 'as yet unclassified' stamp: 'sjh 5/24/2013 10:26'!marshall: aCallMessage	^ self subclassResponsibility! !!Proxy methodsFor: 'accessing' stamp: 'sjh 5/24/2013 10:23'!delegate	^ delegate! !!Proxy methodsFor: 'accessing' stamp: 'sjh 5/24/2013 10:23'!delegate: anObject	delegate := anObject! !Proxy subclass: #ClientProxy	instanceVariableNames: 'broker'	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-Deliverable2'!!ClientProxy methodsFor: 'as yet unclassified' stamp: 'sjh 5/24/2013 10:28'!add: int1 to: int2	| callMessage params |	params := Dictionary new.	params at: 'int1' put: int1; at: 'int2' put: int2.		callMessage := CallMessage initializeWithMessageName: 'addTo' params: params target: 'Lab 2 Server Broker'.		^ self demarshall: [ self delegate receive: callMessage ]		! !!ClientProxy methodsFor: 'as yet unclassified' stamp: 'sjh 5/24/2013 10:28'!getLength: aString	| callMessage params |	params := Dictionary new.	params at: 'string' put: aString.		callMessage := CallMessage initializeWithMessageName: 'addTo' params: params target: 'Lab 2 Server Broker'.		^ self demarshall: [ self delegate receive: callMessage ]		! !Object subclass: #Server	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-Deliverable2'!!Server methodsFor: 'as yet unclassified' stamp: 'sjh 5/24/2013 09:45'!add: int1 to: int2	^ int1 + int2! !!Server methodsFor: 'as yet unclassified' stamp: 'sjh 5/24/2013 09:46'!getLength: aString	^ aString length! !Proxy subclass: #ServerProxy	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-Deliverable2'!!ServerProxy methodsFor: 'as yet unclassified' stamp: 'sjh 5/24/2013 10:33'!demarshall: aCallMessage	| message params target |		"get message" 	message := nil.		"get params"	params := nil.		"get target"	target = nil.		"if target not 'Lab 2 Server Broker' return 'That server is currently off-line'"		"call delegate message with params"	! !