TestCase subclass: #AccountCompositeTests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW2-Tests'!!AccountCompositeTests methodsFor: 'as yet unclassified' stamp: 'sjh 4/29/2013 21:32'!testAccountCompositeCreation	| account |	"self shouldnt: [ account := AccountComposite new initialize. ] raise: Error."	account := AccountComposite new initialize. 	self shouldnt: [ account components isNil ].		! !!AccountCompositeTests methodsFor: 'as yet unclassified' stamp: 'sjh 4/29/2013 22:39'!testAddComponents	"test the addComponents: message. should be able to add Leaf components but not Composite Components"	| account |	account := AccountComposite new initialize.		self shouldnt: [ account addComponent: BondLeaf new.] raise: Error. "adding a Leaf to an AccountComposite should work fine"	self should: [ account addComponent: PortfolioComposite new. ] raise: Error "adding a Composite to an AccountComposite should raise an error"		! !TestCase subclass: #BondLeafTests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW2-Tests'!!BondLeafTests methodsFor: 'as yet unclassified' stamp: 'sjh 4/29/2013 23:31'!testBondLeafValue	| bond testIssueDate |	bond := BondLeaf new.	bond principal: 100 .	bond coupon: 0.1 .	testIssueDate := Date today. "test zero days from today"	bond issueDate: testIssueDate.	self should: [bond value = 100 ].	testIssueDate := testIssueDate subtractDays: 365. "test one year prior to today"	bond issueDate: testIssueDate.	self should: [bond value = 110 ].	testIssueDate := testIssueDate subtractDays: 365. "test two years prior to today"	bond issueDate: testIssueDate.	self should: [bond value = 121 ].	testIssueDate := testIssueDate subtractDays: 365. "test three years prior to today"	bond issueDate: testIssueDate.	self should: [bond value = 133.1 ].! !TestCase subclass: #ComponentTests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW2-Tests'!TestCase subclass: #CompositeTests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW2-Tests'!TestCase subclass: #LeafTests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW2-Tests'!TestCase subclass: #MoneyMarketLeafTests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW2-Tests'!!MoneyMarketLeafTests methodsFor: 'as yet unclassified' stamp: 'sjh 4/29/2013 23:58'!testMoneyMarketLeafValue"calculate the value of a money market security in terms of the value accrued per day up to the mature date"	| security testIssueDate |	security := MoneyMarketLeaf new.	security discountValue: 100.	security matureValue: 250.	security daysToMaturity: 30.	testIssueDate := Date today.	security issueDate: testIssueDate.	self should: [ security value = security discountValue ]. "test 0 days of accrual"	testIssueDate := testIssueDate subtractDays: 10.	security issueDate: testIssueDate.	self should: [ security value = 150 ]. "test 10 days of accrual"	testIssueDate := testIssueDate subtractDays: 10.	security issueDate: testIssueDate.	self should: [ security value = 200 ]. "test 20 days of accrual"	testIssueDate := testIssueDate subtractDays: 5.	security issueDate: testIssueDate.	self should: [ security value = 225 ]. "test 25 days of accrual"	testIssueDate := testIssueDate subtractDays: 5.	security issueDate: testIssueDate.	self should: [ security value = security matureValue ]. "test 30 days of accrual = full duration"	testIssueDate := testIssueDate subtractDays: 1.	security issueDate: testIssueDate.	security issueDate: testIssueDate.	self should: [ security value = security matureValue ]. "test 31 days of accrual >= full duration"! !TestCase subclass: #PortfolioCompositeTests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW2-Tests'!!PortfolioCompositeTests methodsFor: 'as yet unclassified' stamp: 'sjh 4/29/2013 22:40'!testAddComponents	"test the addComponents: message. should be able to add Leaf and Composite components"	| account |	account := PortfolioComposite new initialize.		self shouldnt: [ account addComponent: BondLeaf new.] raise: Error. "adding a Leaf to a PortfolioComposite should work fine"	self shouldnt: [ account addComponent: PortfolioComposite new. ] raise: Error "adding a Composite to a PortfolioComposite should work fine"! !TestCase subclass: #PortfolioIteratorTests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW2-Tests'!TestCase subclass: #PortfolioManagerTests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW2-Tests'!!PortfolioManagerTests methodsFor: 'as yet unclassified' stamp: 'sjh 4/29/2013 18:11'!testGetInstance	"confirm that the getInstance message returns a singleton PortfolioManager"	| firstCallToGetInstance secondCallToGetInstance |	PortfolioManager reset. "make sure singleton PortfolioManager has been cleaned up from previous users"	firstCallToGetInstance := PortfolioManager getInstance. "assign an instance of PortfolioManager to firstCallToGetInstance"	self shouldnt: [firstCallToGetInstance isNil]. "firstCallToGetInstance should not be nil"	self shouldnt:[ firstCallToGetInstance portfolio isNil]. "portfolio should be initialized"	secondCallToGetInstance := PortfolioManager getInstance. "assign an instance of PortfolioManager to secondCallToGetInstance"	self shouldnt: [secondCallToGetInstance isNil]. "secondCallToGetInstance should not be nil"	self should: [firstCallToGetInstance = secondCallToGetInstance]. "firstCallToGetInstance should equal secondCallToGetInstance"	PortfolioManager reset. "make sure singleton PortfolioManager is cleaned up for future users"! !!PortfolioManagerTests methodsFor: 'as yet unclassified' stamp: 'sjh 4/29/2013 18:12'!testNewPortfolioManager	"confirm that calling new on PortfolioManager returns an error because PortfolioManager is a Singleton"		self should: [ PortfolioManager new ] raise: Error! !TestCase subclass: #PricingVisitorTests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW2-Tests'!TestCase subclass: #StockLeafTests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW2-Tests'!