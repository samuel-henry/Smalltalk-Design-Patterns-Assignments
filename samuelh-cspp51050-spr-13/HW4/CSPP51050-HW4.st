Object subclass: #LightSystemModel	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW4'!!LightSystemModel methodsFor: 'as yet unclassified' stamp: 'sjh 6/9/2013 19:51'!updateLights	^ self subclassResponsibility! !Object subclass: #Observer	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW4'!!Observer methodsFor: 'as yet unclassified' stamp: 'sjh 6/9/2013 19:46'!performUpdateWith: aModel	^ self subclassResponsibility! !!Observer methodsFor: 'as yet unclassified' stamp: 'sjh 6/9/2013 19:46'!update: aModel 	self performUpdateWith: aModel.! !Observer subclass: #LightSystemController	instanceVariableNames: 'semaphore lights'	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW4'!!LightSystemController methodsFor: 'as yet unclassified' stamp: 'sjh 6/10/2013 14:21'!initialize	lights := OrderedCollection new.	semaphore := Semaphore forMutualExclusion.! !!LightSystemController methodsFor: 'as yet unclassified' stamp: 'sjh 6/9/2013 20:22'!performUpdateWith: aModel	"do nothing"! !!LightSystemController methodsFor: 'as yet unclassified' stamp: 'sjh 6/10/2013 14:44'!updateLights	[self semaphore critical:		[ self lights do: [ :light | light updateLights ]]] fork.! !!LightSystemController methodsFor: 'accessing' stamp: 'sjh 6/10/2013 13:23'!lights	^ lights! !!LightSystemController methodsFor: 'accessing' stamp: 'sjh 6/10/2013 14:21'!semaphore	^ semaphore! !Observer subclass: #LightView	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW4'!LightSystemModel subclass: #PedestrianLightModel	instanceVariableNames: 'walk dontWalk'	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW4'!!PedestrianLightModel methodsFor: 'accessing' stamp: 'sjh 6/9/2013 19:52'!dontWalk	^ dontWalk! !!PedestrianLightModel methodsFor: 'accessing' stamp: 'sjh 6/9/2013 19:52'!walk	^ walk! !!PedestrianLightModel methodsFor: 'as yet unclassified' stamp: 'sjh 6/9/2013 20:32'!initialize	walk := 'ON'.	dontWalk := 'OFF'.! !!PedestrianLightModel methodsFor: 'as yet unclassified' stamp: 'sjh 6/9/2013 23:17'!updateLights	"update lights"	dontWalk = 'ON'		ifTrue: [ dontWalk := 'OFF'.			     	 walk := 'ON'. ]		ifFalse: [ dontWalk = 'OFF' 					ifTrue: [ dontWalk := 'Flashing'.							 walk := 'OFF'. ]					ifFalse: [ dontWalk := 'ON'.							 walk := 'OFF'. ]].	"notify dependents"	self changed: self.! !LightView subclass: #PedestrianLightView	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW4'!!PedestrianLightView methodsFor: 'as yet unclassified' stamp: 'sjh 6/10/2013 14:16'!performUpdateWith: aPedestrianLightModel	Transcript nextPutAll: ('Pedestrian Light 1:', String cr, 'Walk: ', aPedestrianLightModel walk, ' Dont Walk: ', aPedestrianLightModel dontWalk, String cr, String cr).! !LightSystemModel subclass: #TrafficLightModel	instanceVariableNames: 'red yellow green'	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW4'!!TrafficLightModel methodsFor: 'accessing' stamp: 'sjh 6/9/2013 19:50'!green	^ green! !!TrafficLightModel methodsFor: 'accessing' stamp: 'sjh 6/9/2013 19:50'!red	^ red! !!TrafficLightModel methodsFor: 'accessing' stamp: 'sjh 6/9/2013 19:50'!yellow	^ yellow! !!TrafficLightModel methodsFor: 'as yet unclassified' stamp: 'sjh 6/9/2013 20:32'!initialize	green := 'ON'.	yellow := 'OFF'.	red := 'OFF'.! !!TrafficLightModel methodsFor: 'as yet unclassified' stamp: 'sjh 6/9/2013 23:17'!updateLights	"update lights"	green = 'ON'		ifTrue: [ green := 'OFF'.				 yellow := 'ON'.				 red := 'OFF'. ]		ifFalse: [yellow = 'ON' 					ifTrue: [ green := 'OFF'.				 			yellow := 'OFF'.				 			red := 'ON' ] 					ifFalse: [ red = 'ON' 								ifTrue: [ red := 'OFF'.									      green := 'ON'.									      yellow := 'OFF'. ]]].		"notify dependents"	self changed: self.! !LightView subclass: #TrafficLightView	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW4'!!TrafficLightView methodsFor: 'as yet unclassified' stamp: 'sjh 6/10/2013 14:16'!performUpdateWith: aTrafficLightModel	Transcript nextPutAll: ('Traffic Light 1:', String cr, 'Red: ', aTrafficLightModel red, ' Yellow: ', aTrafficLightModel yellow, ' Green: ', aTrafficLightModel green, String cr, String cr); flush.! !