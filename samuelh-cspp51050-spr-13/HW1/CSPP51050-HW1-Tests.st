TestCase subclass: #AccountTests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW1-Tests'!!AccountTests methodsFor: 'testing' stamp: 'sjh 4/22/2013 11:23'!testGetAccountSummary	"confirm that getAccountSummary raises an error if called on abstract superclass--because calcInterest is pure virtual"		| testAccount |	testAccount := Account new initializeWithBalance: 500.	self should: [ testAccount getAccountSummary ] raise: Error! !!AccountTests methodsFor: 'testing' stamp: 'sjh 4/22/2013 11:23'!testPrintSummary	"confirm that printSummary prints the correct output--note that we can test concrete methods on abstract classes in Smalltalk"		| testAccount today printOutput |	testAccount := Account new initializeWithBalance: 500. "create a new abstract Account".	today := Date today printString. "get today in string format"	printOutput := String cr, 'Account Summary: ', String cr, 'Balance: 500', String cr, 'Last updated: ', today. "concatenate the expected output"	self should: [ testAccount printSummary printString = printOutput ]. "test the expected output against the computed output"	! !!AccountTests methodsFor: 'testing' stamp: 'sjh 4/22/2013 11:24'!testUpdateBalance	"confirm that updateBalance works correctly--note that we can test concrete methods on abstract classes in Smalltalk"		| testAccount |	testAccount := Account new initializeWithBalance: 500. "create a new abstract Account"	testAccount updateBalance: 700. "update the account's balance with the abstract template accessor"	self should: [ testAccount balance = 700 ]. "confirm its balance"! !TestCase subclass: #CheckingAccountTests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW1-Tests'!!CheckingAccountTests methodsFor: 'testing' stamp: 'sjh 4/22/2013 10:54'!testCalcInterest	"test that we calculate interest properly"	| testCheckingAccount pastDate |	testCheckingAccount := CheckingAccount new initializeWithBalance: 500. "create a new checking account"	self should: [ testCheckingAccount calcInterest = 0 ]. "make sure calcInterest returns 0 before the year has changed"	pastDate := Date today subtractDays: 365. "get the Date one year ago"	testCheckingAccount lastUpdatedDate: pastDate. "set the lastUpdatedDate to a year ago"	self should: [ testCheckingAccount calcInterest = 0 ]. "confirm $0 of interest accrued in a year"	! !!CheckingAccountTests methodsFor: 'testing' stamp: 'sjh 4/22/2013 10:55'!testCreateCheckingAccount	"make sure we can create a Checking account and initialize it"	| testCheckingAccount |	testCheckingAccount := CheckingAccount new initializeWithBalance: 500. "create a new checking account"	self should: [testCheckingAccount balance = 500]. "confirm that the balance was initialized correctly"	self should: [testCheckingAccount lastUpdatedDate = Date today]. "confirm that last updated date was initialized correctly"! !!CheckingAccountTests methodsFor: 'testing' stamp: 'sjh 4/22/2013 00:35'!testUpdateBalance	"test that we can update a CheckingAccount's balance properly"	| testCheckingAccount |	testCheckingAccount := CheckingAccount new initializeWithBalance: 500. "create a new CheckingAccount"	self should: [ testCheckingAccount balance = 500 ]. "confirm its balance"	testCheckingAccount balance: 600. "update the account's balance with the concrete accessor"	self should: [ testCheckingAccount balance = 600 ]. "confirm its balance"	testCheckingAccount updateBalance: 700. "update the account's balance with the abstract template accessor"	self should: [ testCheckingAccount balance = 700 ]. "confirm its balance"! !TestCase subclass: #CourseTests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW1-Tests'!!CourseTests methodsFor: 'testing' stamp: 'sjh 4/21/2013 21:03'!testAddStudent	"test that adding students works up to the max enrollment"	| testCourse |	testCourse := Course newOfMaxEnrollment: 3. "create a new Course that can hold 3 students"	self should: [testCourse currentEnrollment = 0].	testCourse addStudent: 'Sam'.	self should: [testCourse currentEnrollment = 1].	testCourse addStudent: 'Chris'.	self should: [testCourse currentEnrollment = 2].	testCourse addStudent: 'Erin'.	self should: [testCourse currentEnrollment = 3].	testCourse addStudent: 'Mike'.	self should: [testCourse currentEnrollment = 3]. "make sure attempting to add a fourth student is unsuccessful"! !!CourseTests methodsFor: 'testing' stamp: 'sjh 4/22/2013 10:55'!testCreateCourse	"test that course creation and initialization works properly"	| course |	course := Course new initializeStudents. "create a new course and initialize its students to a set"	self shouldnt: [ course isNil ]. "make sure a Course was created"	self shouldnt: [ course students isNil ]. "...and that the new Course initialized students"! !TestCase subclass: #RegistrarTests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW1-Tests'!!RegistrarTests methodsFor: 'testing' stamp: 'sjh 4/22/2013 11:02'!testAddCourses	"confirm that adding courses to a Registrar works properly"		| testRegistrar |	Registrar reset. "make sure singleton Registrar has been cleaned up from previous users"	testRegistrar := Registrar getInstance. "get Registrar instance"	self shouldnt: [testRegistrar courses isNil]. "confirm that the Courses set has been initialized"	testRegistrar addCourse: Course new. "add a course"	self should: [testRegistrar courses size = 1]. "there should be one course in Registrar after adding one course"	Registrar reset. "make sure singleton Registrar is cleaned up for future users"! !!RegistrarTests methodsFor: 'testing' stamp: 'sjh 4/22/2013 11:02'!testEnrollStudentInCourse	"confirm enrolling a student in a course works properly"	| testRegistrar testCourse |	Registrar reset. "make sure singleton Registrar has been cleaned up from previous users"	testRegistrar := Registrar getInstance. "get Registrar instance"	testCourse := Course newOfMaxEnrollment: 3. "create a new course"	testCourse initializeStudents. "initialize the course's students"	testCourse name: 'Physics'. "set the course's name"		testCourse addStudent: 'Sam'. "add a student manually"	self should: [testCourse students contains: [:each | each = 'Sam']]. "make sure the course has a student with this name"	testRegistrar addCourse: testCourse. "add the course to the registrar"	self should: [testRegistrar courses contains: [:each | each name = 'Physics']]. "make sure the Registrar has this course"	testCourse := testRegistrar courses detect: [:each | each name = 'Physics']. "get this course from the Registrar"	self should: [testCourse students contains: [:each | each = 'Sam']]. "make sure the Registrar has our student in this course"		testRegistrar enrollStudent: 'Peter' inCourse: testCourse. "add a student with the Registrar's enroll message"	self should: [testCourse students contains: [:each | each = 'Peter']]. "make sure the Registrar has our student in this course"		Registrar reset. "make sure singleton Registrar is cleaned up for future users"! !!RegistrarTests methodsFor: 'testing' stamp: 'sjh 4/22/2013 11:02'!testGetInstance	"confirm that the getInstance message returns a singleton Registrar"	| firstCallToGetInstance secondCallToGetInstance |	Registrar reset. "make sure singleton Registrar has been cleaned up from previous users"	firstCallToGetInstance := Registrar getInstance. "assign an instance of Registrar to firstCallToGetInstance"	self shouldnt: [firstCallToGetInstance isNil]. "firstCallToGetInstance should not be nil"	self shouldnt:[ firstCallToGetInstance courses isNil]. "courses should be initialized"	secondCallToGetInstance := Registrar getInstance. "assign an instance of Registrar to secondCallToGetInstance"	self shouldnt: [secondCallToGetInstance isNil]. "secondCallToGetInstance should not be nil"	self should: [firstCallToGetInstance = secondCallToGetInstance]. "firstCallToGetInstance should equal secondCallToGetInstance"	Registrar reset. "make sure singleton Registrar is cleaned up for future users"! !!RegistrarTests methodsFor: 'testing' stamp: 'sjh 4/22/2013 11:01'!testNewRegistrar	"confirm that calling new on Registrar returns an error because Registrar is a Singleton"		self should: [ Registrar new ] raise: Error! !TestCase subclass: #SavingsAccountTests	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW1-Tests'!!SavingsAccountTests methodsFor: 'testing' stamp: 'sjh 4/22/2013 11:01'!testCalcInterest	"confirm that we calculate interest properly"	| testSavingsAccount pastDate |	testSavingsAccount := SavingsAccount new initializeWithBalance: 500. "create a new SavingsAccount initialized to $500"	self should: [ testSavingsAccount calcInterest = 0 ]. "make sure calcInterest returns 0 before the year has changed"	pastDate := Date today subtractDays: 365. "get the Date one year ago"	testSavingsAccount lastUpdatedDate: pastDate. "set the lastUpdatedDate to a year ago"	self should: [ testSavingsAccount calcInterest = 50.0 ]. "confirm the amount of interest accrued in a year"	testSavingsAccount := SavingsAccount new initializeWithBalance: 500. "reinitialize the SavingsAccount"	pastDate := Date today subtractDays: (365 * 4). "get the Date four years ago"	testSavingsAccount lastUpdatedDate: pastDate. "set the lastUpdatedDate to four years ago"	self should: [ testSavingsAccount calcInterest  asInteger = 232 ]. "confirm the amount of interest accrued in four years (round slightly to integer value)"! !!SavingsAccountTests methodsFor: 'testing' stamp: 'sjh 4/22/2013 11:01'!testCreateSavingsAccount	"confirm that we can create a Savings account and initialize it"	| testSavingsAccount |	testSavingsAccount := SavingsAccount new initializeWithBalance: 500. "create a new SavingsAccount with an intial balance"	self should: [testSavingsAccount balance = 500]. "confirm the balance was initialized"	self should: [testSavingsAccount lastUpdatedDate = Date today]. "confirm the last updated date was initialized"! !!SavingsAccountTests methodsFor: 'testing' stamp: 'sjh 4/22/2013 11:01'!testUpdateBalance	"confirm that we can update a SavingsAccount's balance properly"	| testSavingsAccount |	testSavingsAccount := SavingsAccount new initializeWithBalance: 500. "create a new SavingsAccount"	self should: [ testSavingsAccount balance = 500 ]. "confirm its balance"	testSavingsAccount balance: 600. "update the account's balance with the concrete accessor"	self should: [ testSavingsAccount balance = 600 ]. "confirm its balance"	testSavingsAccount updateBalance: 700. "update the account's balance with the abstract template accessor"	self should: [ testSavingsAccount balance = 700 ]. "confirm its balance"! !