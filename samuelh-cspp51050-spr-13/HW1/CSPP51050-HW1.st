Object subclass: #Account	instanceVariableNames: 'balance lastUpdatedDate'	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW1'!!Account methodsFor: 'accessing' stamp: 'sjh 4/21/2013 21:41'!balance	^ balance! !!Account methodsFor: 'accessing' stamp: 'sjh 4/21/2013 21:41'!balance: anObject	balance := anObject! !!Account methodsFor: 'accessing' stamp: 'sjh 4/21/2013 22:10'!lastUpdatedDate	^ lastUpdatedDate! !!Account methodsFor: 'accessing' stamp: 'sjh 4/21/2013 22:10'!lastUpdatedDate: anObject	lastUpdatedDate := anObject! !!Account methodsFor: 'accessing' stamp: 'sjh 4/22/2013 11:26'!printString	"override printString to print an account summary. by overriding printString we can print an Account neatly from within printSummary or anywhere else"	^ String cr, 'Account Summary: ', String cr, 'Balance: ', balance printString, String cr, 'Last updated: ', lastUpdatedDate printString! !!Account methodsFor: 'initialize-release' stamp: 'sjh 4/21/2013 23:33'!initializeWithBalance: balance	"initialize a new account by setting its balance, lastUpdatedDate, and having concrete class finish initialization (i.e. SavingsAccount sets interest rate"		self balance: balance.	self lastUpdatedDate: Date today.	self initialize.! !!Account methodsFor: 'template methods' stamp: 'sjh 4/22/2013 11:18'!calcInterest	"pure virtual method must be implemented by sublcass(es)"		self subclassResponsibility! !!Account methodsFor: 'template methods' stamp: 'sjh 4/21/2013 23:30'!getAccountSummary	"template method for getting a concrete account's summary"	"NOTE: calcInterest is implemented in base class(es)"		self updateBalance: balance + self calcInterest.	self printSummary.! !!Account methodsFor: 'template methods' stamp: 'sjh 4/21/2013 23:30'!printSummary	"print an Account summary"		self printString.! !!Account methodsFor: 'template methods' stamp: 'sjh 4/21/2013 23:31'!updateBalance: newBalance	"update an account's balance by updating the balance amount and the date the balance was last updated"		self balance: newBalance.	self lastUpdatedDate: Date today.! !Account subclass: #CheckingAccount	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW1'!!CheckingAccount methodsFor: 'initialize-release' stamp: 'sjh 4/21/2013 22:43'!initialize	"no additional initialization required for CheckingAccount"! !!CheckingAccount methodsFor: 'template methods' stamp: 'sjh 4/21/2013 22:50'!calcInterest	^ 0! !Object subclass: #Course	instanceVariableNames: 'name maxEnrollment currentEnrollment students'	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW1'!!Course commentStamp: 'sjh 4/21/2013 21:16' prior: 0!Courses have a maximum enrollment and a set of enrolled students. The number of enrolled students may not exceed the Course's maximum enrollment.!!Course methodsFor: 'accessing' stamp: 'sjh 4/21/2013 17:19'!addStudent	"comment stating purpose of message"	! !!Course methodsFor: 'accessing' stamp: 'sjh 4/21/2013 17:44'!addStudent: anObject	"comment stating purpose of message"	self currentEnrollment < self maxEnrollment		ifTrue: [ students add: anObject. self currentEnrollment: self currentEnrollment + 1 ]		ifFalse: [ Transcript show: 'Cannot add another student. Course is fully enrolled.']! !!Course methodsFor: 'accessing' stamp: 'sjh 4/21/2013 16:57'!currentEnrollment	^ currentEnrollment! !!Course methodsFor: 'accessing' stamp: 'sjh 4/21/2013 16:57'!currentEnrollment: anObject	currentEnrollment := anObject! !!Course methodsFor: 'accessing' stamp: 'sjh 4/21/2013 16:57'!maxEnrollment	^ maxEnrollment! !!Course methodsFor: 'accessing' stamp: 'sjh 4/21/2013 16:57'!maxEnrollment: anObject	maxEnrollment := anObject! !!Course methodsFor: 'accessing' stamp: 'sjh 4/21/2013 18:25'!name	^ name! !!Course methodsFor: 'accessing' stamp: 'sjh 4/21/2013 18:25'!name: anObject	name := anObject! !!Course methodsFor: 'accessing' stamp: 'sjh 4/21/2013 16:57'!students	^ students! !!Course methodsFor: 'accessing' stamp: 'sjh 4/21/2013 17:19'!students: anObject	students := anObject! !!Course methodsFor: 'initialize-release' stamp: 'sjh 4/21/2013 18:32'!initialize	"initialize a Course"	self name: ''.	self currentEnrollment: 0.	self maxEnrollment: 0.	self initializeStudents.	! !!Course methodsFor: 'initialize-release' stamp: 'sjh 4/21/2013 17:21'!initializeStudents	"initialize students to a new Dictionary"	self students: Set new.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Course class	instanceVariableNames: ''!!Course class methodsFor: 'instance creation' stamp: 'sjh 4/21/2013 17:48'!newOfMaxEnrollment: maxEnrollment	"comment stating purpose of message"	| course |		course := self basicNew.	course maxEnrollment: maxEnrollment.	course currentEnrollment: 0.	course initializeStudents.		^course! !Object subclass: #Registrar	instanceVariableNames: 'courses'	classVariableNames: 'UniqueInstance'	poolDictionaries: ''	category: 'CSPP51050-HW1'!!Registrar commentStamp: 'sjh 4/21/2013 21:15' prior: 0!Singleton class for managing registration of students in Courses!!Registrar methodsFor: 'initialize-release' stamp: 'sjh 4/21/2013 17:25'!initializeCourses	"initialize courses instance variable to a new Dictionary"	self courses: Set new.! !!Registrar methodsFor: 'accessing' stamp: 'sjh 4/21/2013 17:56'!addCourse: anObject	"add a course to a Registrar"	self courses add: anObject.! !!Registrar methodsFor: 'accessing' stamp: 'sjh 4/21/2013 16:42'!courses	^ courses! !!Registrar methodsFor: 'accessing' stamp: 'sjh 4/21/2013 16:42'!courses: anObject	courses := anObject! !!Registrar methodsFor: 'accessing' stamp: 'sjh 4/21/2013 20:14'!enrollStudent: student inCourse: course	"enroll a student in a course"	course addStudent: student.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Registrar class	instanceVariableNames: ''!!Registrar class methodsFor: 'instance creation' stamp: 'sjh 4/21/2013 17:35'!getInstance	"return the Singleton instance of Registrar"	UniqueInstance isNil		ifTrue: [UniqueInstance := self basicNew initializeCourses ].	^UniqueInstance! !!Registrar class methodsFor: 'instance creation' stamp: 'sjh 4/21/2013 15:50'!new	"override new to return an error if anyone tries to instantiate Registrar without calling getInstance"	self error: 'You may not instantiate Registrar using the new message. Use the getInstance message to get the singleton instance of Registrar'! !!Registrar class methodsFor: 'as yet unclassified' stamp: 'sjh 4/21/2013 19:09'!reset	UniqueInstance := nil.! !Account subclass: #SavingsAccount	instanceVariableNames: 'rate'	classVariableNames: ''	poolDictionaries: ''	category: 'CSPP51050-HW1'!!SavingsAccount methodsFor: 'initialize-release' stamp: 'sjh 4/21/2013 22:44'!initialize	"initialize SavingsAccount interest rate"	self rate: 0.1.! !!SavingsAccount methodsFor: 'accessing' stamp: 'sjh 4/21/2013 22:17'!rate	^ rate! !!SavingsAccount methodsFor: 'accessing' stamp: 'sjh 4/21/2013 22:17'!rate: anObject	rate := anObject! !!SavingsAccount methodsFor: 'template methods' stamp: 'sjh 4/21/2013 23:17'!calcInterest	"calculate the interest that has accrued for an account since its creation"	| yearsSinceUpdated today tempBalance |		"set tempBalance to the current balance"	tempBalance := balance.		"get today"	today := Date today.		"get number of Jan 1sts since last update"	yearsSinceUpdated :=  today year - lastUpdatedDate year.		"for each of these, update tempBalance += interest rate * tempBalance" 	yearsSinceUpdated timesRepeat: [ tempBalance := tempBalance + (rate * tempBalance) ].			^ tempBalance - balance! !